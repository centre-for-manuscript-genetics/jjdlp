{% extends "library/library_dummy_base.html" %}
{% load resolve_hits %}

{% block order_author_letter %}<a href="{% url 'order_all' source_field='author' first_letter=first_letter %}">{% endblock %}
{% block order_title_letter %}<a href="{% url 'order_all' source_field='title' first_letter=first_letter %}">{% endblock %}
{% block order_city_letter %}<a href="{% url 'order_all' source_field='city' first_letter=first_letter %}">{% endblock %}
{% block order_field_field %}<a href="{% url 'order_all' source_field=source_field first_letter=letter %}">{% endblock %}
{% block order_field2_field %}{% resolve_hits source_field=source_field first_letter=letter %}{% endblock %}

{% block content %}
<div class="books_list">
	{% with result_list=page.object_list %}
	{% if result_list %}
		<div class="pagination" id="pag_info">Sorting options "<strong>{{ source_field }}</strong>" and "<strong>{{ first_letter }}</strong>" match <strong>{{ page.paginator.count }} library item{{ page|pluralize }}</strong>
	    	{% if is_paginated %}
	    	, showing {{ page.start_index }} to {{ page.end_index }}.</div>
			{% else %}
			</div>
    		{% endif %}
		<table class="result_list">
			{% for result in result_list %}
				<tr>
					<td class="list_pages">
						<span class="glyphicon glyphicon-book"></span>
					</td>
					<td class="bib_info"><a href="{% url 'source_detail' slug=result.slug %}">{{ result.verbose_source_name }}</a></td>
					<td class="bib_info" style="margin: 5px; margin-left: 50px;"><a href="{% url 'novel_detail' novelslug=result.get_usage|slugify %}">{{ result.get_usage }}</a></td>
				</tr>
			{% endfor %}
		</table>
        {% include 'search/includes/bottom_paginator.html' %}
	{% else %}
		<div class="fail">Sorting options <strong>"{{ source_field }}"</strong> and <strong>"{{ first_letter }}"</strong> have returned no items.</div>
	{% endif %}
	{% endwith %}
</div>
{% endblock %}
